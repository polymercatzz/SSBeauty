<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./dist/output.css" />
</head>

<body>
    <!-- ปุ่ม Book Now -->
    <button id="openModalBtn"
        class="bg-gradient-to-r from-[#DBB3C1] to-[#A5848F] text-white font-[kanit] text-[3vh] px-10 py-2 rounded-3xl shadow-lg hover:scale-105 transition-transform duration-300 mt-5 w-full md:w-[70vh]">
        Book Now
    </button>

    <!-- Modal Background + Overlay -->
    <div id="bookingModal" class="fixed inset-0 bg-white/60 backdrop-blur-sm hidden justify-center items-center z-50">

        <!-- Modal Content -->
        <div class="bg-[#F9F7F6] w-[90%] max-w-[500px] rounded-xl shadow-lg relative p-6 animate-fadeIn">
            <!-- ปุ่มปิด -->
            <button id="closeModalBtn"
                class="absolute top-3 right-3 text-white bg-[#A5848F] hover:bg-[#8a6f77] rounded-full w-8 h-8 flex items-center justify-center">
                ✕
            </button>

            <!-- ฟอร์ม -->
            <form class="space-y-6 mt-10 text-[2vh]">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block font-[kanit] text-gray-700 mb-1">วันที่:</label>
                        <input type="date"
                            class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-[#DBB3C1] outline-none">
                    </div>
                    <div>
                        <label class="block font-[kanit] text-gray-700 mb-1">เวลา:</label>
                        <input type="time"
                            class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-[#DBB3C1] outline-none">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block font-[kanit] text-gray-700 mb-1">บริการ:</label>
                        <input type="text" value="สปา" readonly
                            class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-[#DBB3C1] outline-none">
                    </div>
                    <div class="relative w-full">
                        <!-- ปุ่มเปิด dropdown -->
                        <label class="block font-[kanit] text-gray-700 mb-1">บริการเสริม:</label>

                        <button id="dropdownBtn" type="button"
                            class="w-full border rounded-lg p-2 flex justify-between items-center focus:ring-2 focus:ring-[#DBB3C1]">
                            <span id="dropdownText" class="text-gray-600">เลือกบริการเสริม</span>
                            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>

                        <!-- รายการ dropdown -->
                        <div id="dropdownMenu"
                            class="absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg hidden max-h-40 overflow-y-auto">
                            <label class="flex items-center p-2 gap-2 cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" value="สครับหน้า" class="w-4 h-4 text-[#A5848F]">
                                <span>สครับหน้า</span>
                            </label>
                            <label class="flex items-center p-2 gap-2 cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" value="นวดคอ" class="w-4 h-4 text-[#A5848F]">
                                <span>นวดคอ</span>
                            </label>
                            <label class="flex items-center p-2 gap-2 cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" value="นวดไหล่" class="w-4 h-4 text-[#A5848F]">
                                <span>นวดไหล่</span>
                            </label>
                            <label class="flex items-center p-2 gap-2 cursor-pointer hover:bg-gray-100">
                                <input type="checkbox" value="นวดเท้า" class="w-4 h-4 text-[#A5848F]">
                                <span>นวดเท้า</span>
                            </label>
                        </div>
                    </div>

                </div>

                <div>
                    <label class="block font-[kanit] text-gray-700 mb-1">ช่าง:</label>
                    <select class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-[#DBB3C1] outline-none">
                        <option>-- เลือก --</option>
                        <option>พี่แอน</option>
                        <option>พี่ตา</option>
                        <option>พี่ก้อย</option>
                    </select>
                </div>

                <!-- ปุ่มยืนยัน -->
                <button type="submit"
                    class="bg-[#A5848F] text-white font-[kanit] w-fit px-6 py-2 rounded-lg hover:bg-[#8a6f77] transition block mx-auto">
                    ยืนยันการจอง
                </button>
            </form>
        </div>
    </div>

    <!-- Script -->
    <script>
        const modal = document.getElementById("bookingModal");
        const openBtn = document.getElementById("openModalBtn");
        const closeBtn = document.getElementById("closeModalBtn");

        openBtn.addEventListener("click", () => {
            modal.classList.remove("hidden");
            modal.classList.add("flex");
        });

        closeBtn.addEventListener("click", () => {
            modal.classList.add("hidden");
        });

        // ปิด modal ถ้าคลิกนอกกล่อง
        window.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.classList.add("hidden");
            }
        });

        const dropdownBtn = document.getElementById("dropdownBtn");
        const dropdownMenu = document.getElementById("dropdownMenu");
        const dropdownText = document.getElementById("dropdownText");

        // toggle dropdown
        dropdownBtn.addEventListener("click", () => {
            dropdownMenu.classList.toggle("hidden");
        });

        // update text เมื่อเลือก
        const checkboxes = dropdownMenu.querySelectorAll("input[type='checkbox']");
        checkboxes.forEach(cb => {
            cb.addEventListener("change", () => {
                const selected = Array.from(checkboxes)
                    .filter(c => c.checked)
                    .map(c => c.value);

                dropdownText.textContent = selected.length > 0 ? selected.join(", ") : "เลือกบริการเสริม";
            });
        });

        // ปิด dropdown ถ้าคลิกนอก
        window.addEventListener("click", (e) => {
            if (!dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.add("hidden");
            }
        });

    </script>

    <!-- Animation -->
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
        }
    </style>

</body>

</html>