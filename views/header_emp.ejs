<!-- Employee Header Navigation -->
<header class="bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <!-- Logo and Brand -->
            <div class="flex items-center gap-3">
                <img src="/img/curl.png" alt="SSBeauty Logo" 
                    class="w-10 h-10 object-contain"
                    onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2240%22 height=%2240%22%3E%3Crect fill=%22%23A5848F%22 width=%2240%22 height=%2240%22 rx=%228%22/%3E%3Ctext fill=%22white%22 font-family=%22Arial%22 font-size=%2220%22 font-weight=%22bold%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3ES%3C/text%3E%3C/svg%3E'">
                <span class="text-xl font-bold text-gray-900">SSBeauty</span>
                <span class="hidden sm:inline-block text-sm text-gray-500 ml-2">| พนักงาน</span>
            </div>

            <!-- Navigation Links -->
            <nav class="flex items-center gap-2">
                <a href="/employee/home" 
                    class="px-4 py-2 rounded-lg text-base font-medium transition-colors hover:bg-gray-100 text-gray-700 hover:text-gray-900">
                    ตารางวันนี้
                </a>
                <a href="/employee/all-schedule" 
                    class="px-4 py-2 rounded-lg text-base font-medium transition-colors hover:bg-gray-100 text-gray-700 hover:text-gray-900">
                    ตารางทั้งหมด
                </a>
                <a href="/employee/stock" 
                    class="px-4 py-2 rounded-lg text-base font-medium transition-colors hover:bg-gray-100 text-gray-700 hover:text-gray-900">
                    เบิกสินค้า
                </a>
                
                <!-- Profile Button -->
                <div class="relative">
                    <button onclick="toggleProfileMenu()" 
                        class="ml-2 w-10 h-10 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors overflow-hidden border-2 border-transparent hover:border-[#A5848F]">
                        <img src="/img/profile.png" alt="Profile" 
                            class="w-full h-full object-cover"
                            onerror="this.style.display='none'; this.parentElement.innerHTML='<svg class=\'w-6 h-6 text-gray-600\' fill=\'currentColor\' viewBox=\'0 0 20 20\'><path fill-rule=\'evenodd\' d=\'M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\' clip-rule=\'evenodd\'/></svg>'">
                    </button>
                    
                    <!-- Dropdown Menu -->
                    <div id="profileMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">
                        <button onclick="openPopupprofile(); closeProfileMenu();" 
                            class="w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2">
                            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                            </svg>
                            แก้ไขข้อมูลส่วนตัว
                        </button>
                        <hr class="my-1 border-gray-200">
                        <button onclick="confirmLogout()" 
                            class="w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                            ออกจากระบบ
                        </button>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</header>

<script>
    function toggleProfileMenu() {
        const menu = document.getElementById('profileMenu');
        menu.classList.toggle('hidden');
    }
    
    function closeProfileMenu() {
        document.getElementById('profileMenu').classList.add('hidden');
    }
    
    function confirmLogout() {
        if (confirm('คุณต้องการออกจากระบบใช่หรือไม่?')) {
            window.location.href = '/logout';
        }
    }
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
        const menu = document.getElementById('profileMenu');
        const button = event.target.closest('button[onclick*="toggleProfileMenu"]');
        if (!menu.contains(event.target) && !button) {
            closeProfileMenu();
        }
    });
</script>