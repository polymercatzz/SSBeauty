<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>History</title>
    <!-- <link rel="stylesheet" href="./dist/output.css" /> -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kapakana:wght@300..400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Caslon+Display&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- font -->
    <!-- manu -->
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
    <!-- arrow -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
</head>

<body class="bg-gradient-to-t from-[#F2F1EB] to-[#DBB3C1] h-screen bg-fixed bg-cover bg-center min-h-screen">

    <!--  start navbar -->
    <%- include('nav_user', { activePage: 'hair' }) %>
    <!-- <header
        class="bg-gradient-to-r from-[#DBB3C1] to-[#A5848F] max-w-[93%] mx-auto rounded-3xl shadow-lg shadow-black-200 my-2 font-bold fixed w-full z-50 top-5 left-1/2 -translate-x-1/2 z-50">
        <nav class="font-[tangerine] p-[0.5vh] flex justify-between items-center">
            <div class="flex items-center">
                <img src="curl.png" alt="#" class="w-[5vh] m-2">
                <span class="text-[#E5408E] text-[4.5vh] align-middle ml-2">SSBeauty</span>
            </div>
            <div class="flex items-center gap-5">
                <div
                    class="nav md:static md:minh-fit md:bg-transparent  absolute bg-white rounded-3xl right-[1%] top-[-1000%] p-3 ">
                    <ul
                        class="flex md:flex-row flex-col items-center md:gap-5 gap-2 text-[3.7vh] md:text-[4.2vh] md:text-white text-[#E5408E]">
                        <li>
                            <a href=""
                                class="p-2 md:hover:bg-white md:hover:text-[#E5408E] md:rounded-xl hover:bg-pink-100 rounded-xl ">Hair</a>
                        </li>
                        <li>
                            <a href=""
                                class="p-2 md:hover:bg-white md:hover:text-[#E5408E] md:rounded-xl hover:bg-pink-100 rounded-xl">Spa</a>
                        </li>
                        <li>
                            <a href=""
                                class="p-2 md:bg-white md:text-[#E5408E] md:rounded-xl hover:bg-pink-100 rounded-xl ">History</a>
                        </li>
                        <li>
                            <a href=""
                                class="p-2 md:hover:bg-white text-[#E5408E] md:rounded-xl bg-pink-100 rounded-xl">Logout</a>
                        </li>
                    </ul>
                </div>
                <div class="flex items-center">
                    <a href="">
                        <img src="profile.png" alt="" class="w-[5vh] mr-2">
                    </a>
                    <ion-icon onclick="menuToggle(this)" name="menu"
                        class="text-3xl cursor-pointer md:hidden text-white"></ion-icon>
                </div>
            </div>
        </nav>
    </header> -->
    <!--  end navbar -->


        <div id="filter" class="md:pt-[18vh] pt-[13vh] w-full font-[kanit] text-[2vh] mb-5">
        <!-- filter1 กลาง -->
        <div id="filter1" 
            class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 bg-white/60 border rounded-xl p-3 absolute left-1/2 transform -translate-x-1/2 shadow-lg max-w-[90%]">
            <div>
                <p class="text-gray-500">ค้นหา</p>
                <input type="text" id="searchInput" placeholder="ค้นหาบริการ" class="border rounded-lg px-3 py-1 w-full">
            </div>
            <div>
                <p class="text-gray-500">ช่วงราคา</p>
                <select id="priceFilter" class="border rounded-lg px-3 py-1 mr-2 w-full">
                    <option value="">ทั้งหมด</option>
                    <option value="0-500">0-500 บาท</option>
                    <option value="500-1000">500-1,000 บาท</option>
                    <option value="1000-1500">1,000-1,500 บาท</option>
                    <option value="1500-2000">1,500-2,000 บาท</option>
                    <option value="2000-5000">2,000+ บาท</option>
                </select>
            </div>
            <div class="md:pt-6">
                <button onclick="filterServices()" class="bg-pink-400 hover:bg-pink-500 text-white px-4 rounded-lg h-8 w-full md:w-auto">ค้นหา</button>
            </div>
            <div class="md:pt-6">
                <button onclick="resetFilters()" class="bg-gray-400 hover:bg-gray-500 text-white px-4 rounded-lg h-8 w-full md:w-auto">รีเซ็ต</button>
            </div>
        </div>
    </div>

    <!-- service --> 
<div id="servicesContainer" class="max-w-[90%] space-y-5 pb-10 md:pt-[10vh] pt-[8vh]
            grid grid-cols-1 lg:grid-cols-2 justify-items-center flex mx-auto gap-x-5 max-[500px]:max-w-[100%]">
  
  <!-- card -->
  <% services.forEach(service => { %>
    <a class="service-card max-w-[600px] w-full rounded-3xl shadow-lg shadow-black-200 
          bg-white/60 backdrop-blur-md p-5 flex flex-wrap max-[500px]:max-w-[90%] mt-[2.4vh] justify-center items-center hover:shadow-xl transition-shadow" 
          href="/user/<%= service.type %>/booking/<%= service.service_id %>"
          data-name="<%= service.name.toLowerCase() %>"
          data-price="<%= service.price %>"
          data-duration="<%= service.duration %>">
      <div class="flex gap-2 flex-1">
    <img src="<%= service.image1_url || '/img/default_service.jpg' %>" alt="<%= service.name %>"
      class="w-[20vh] mb-2 aspect-[4/3] object-cover rounded-xl">
        <div class="ml-5 space-y-4 justify-center flex flex-col max-[1085px]:ml-[2vh]">
          <div class="flex items-center gap-2 font-[inter] text-[#616162] text-[2vh]">
            <img src="/img/shopping-cart.png" alt="" class="w-[2vh]">
            <p><%= service.name %></p>
          </div>
          <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
            <img src="/img/pending.png" alt="" class="w-[2vh]">
            <p><%= service.duration %> นาที</p>
          </div>
          <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
            <img src="/img/usd-circle.png" alt="" class="w-[2vh]">
            <p><%= service.price %> บาท</p>
          </div>
        </div>
      </div>
      <div
        class="bg-[#DBB3C1] text-white font-[kanit] text-[2vh] p-2 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 h-fit self-end ml-auto">
        <button>จองคิว</button>
      </div>
    </a>
  <% }); %>
  
  <% if (services.length === 0) { %>
    <div class="col-span-full text-center py-20">
      <div class="bg-white/60 backdrop-blur-md rounded-3xl p-10 shadow-lg">
        <svg class="w-24 h-24 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <p class="text-[3vh] font-[kanit] text-gray-600 mb-2">ไม่พบบริการ</p>
        <p class="text-[2vh] font-[kanit] text-gray-500">ขณะนี้ยังไม่มีบริการทำผมในระบบ</p>
      </div>
    </div>
  <% } %>
</div>

<!-- No Results Message (Hidden by default) -->
<div id="noResults" class="hidden col-span-full text-center py-20 max-w-[90%] mx-auto">
  <div class="bg-white/60 backdrop-blur-md rounded-3xl p-10 shadow-lg">
    <svg class="w-24 h-24 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
    </svg>
    <p class="text-[3vh] font-[kanit] text-gray-600 mb-2">ไม่พบผลการค้นหา</p>
    <p class="text-[2vh] font-[kanit] text-gray-500">ลองเปลี่ยนคำค้นหาหรือปรับตัวกรองใหม่</p>
  </div>
</div>
  <!-- <a class="max-w-[600px] w-full  rounded-3xl shadow-lg shadow-black-200 
         bg-white/60 backdrop-blur-md p-5 flex flex-wrap max-[500px]:max-w-[90%] mt-[2.4vh] justify-center items-center" href="" >
    <div class="flex gap-2 ">
      <img src="https://inwfile.com/s-de/pbx3es.jpg" alt="Card Image"
           class="w-[20vh] mb-2 aspect-[4/3] object-cover rounded-xl">
      <div class="ml-5 space-y-4 justify-center  flex flex-col max-[1085px]:ml-[2vh]">
        <div class="flex items-center gap-2 font-[inter] text-[#616162] text-[2vh]">
          <img src="/img/shopping-cart.png" alt="" class="w-[2vh]">
          <p>Tensonez</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh] ">
          <img src="/img/pending.png" alt="" class="w-[2vh]">
          <p>120 นาที</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
          <img src="/img/usd-circle.png" alt="" class="w-[2vh]">
          <p>760 บาท</p>
        </div>
      </div>
    </div>
    <div
      class="bg-[#DBB3C1] text-white font-[kanit] text-[2vh] p-2 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 h-fit self-end ml-auto">
      <button>จองคิว</button>
    </div>
  </a>
    <a class="max-w-[600px] w-full  rounded-3xl shadow-lg shadow-black-200 
         bg-white/60 backdrop-blur-md p-5 flex flex-wrap max-[500px]:max-w-[90%]" href="">
    <div class="flex gap-2 ">
      <img src="https://inwfile.com/s-de/pbx3es.jpg" alt="Card Image"
           class="w-[20vh] mb-2 aspect-[4/3] object-cover rounded-xl">
      <div class="ml-5 space-y-4 justify-center  flex flex-col max-[1085px]:ml-[2vh]">
        <div class="flex items-center gap-2 font-[inter] text-[#616162] text-[2vh]">
          <img src="/img/shopping-cart.png" alt="" class="w-[2vh]">
          <p>Tensonez</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh] ">
          <img src="/img/pending.png" alt="" class="w-[2vh]">
          <p>120 นาที</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
          <img src="/img/usd-circle.png" alt="" class="w-[2vh]">
          <p>760 บาท</p>
        </div>
      </div>
    </div>
    <div
      class="bg-[#DBB3C1] text-white font-[kanit] text-[2vh] p-2 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 h-fit self-end ml-auto">
      <button>จองคิว</button>
    </div>
  </a>
  <a class="max-w-[600px] w-full rounded-3xl shadow-lg shadow-black-200 
         bg-white/60 backdrop-blur-md p-5 flex flex-wrap max-[500px]:max-w-[90%]" href="">
    <div class="flex gap-2 ">
      <img src="https://inwfile.com/s-de/pbx3es.jpg" alt="Card Image"
           class="w-[20vh] mb-2 aspect-[4/3] object-cover rounded-xl">
      <div class="ml-5 space-y-4 justify-center  flex flex-col max-[1085px]:ml-[2vh]">
        <div class="flex items-center gap-2 font-[inter] text-[#616162] text-[2vh]">
          <img src="/img/shopping-cart.png" alt="" class="w-[2vh]">
          <p>Tensonez</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh] ">
          <img src="/img/pending.png" alt="" class="w-[2vh]">
          <p>120 นาที</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
          <img src="/img/usd-circle.png" alt="" class="w-[2vh]">
          <p>760 บาท</p>
        </div>
      </div>
    </div>
    <div
      class="bg-[#DBB3C1] text-white font-[kanit] text-[2vh] p-2 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 h-fit self-end ml-auto">
      <button>จองคิว</button>
    </div>
  </a>
  <a class="max-w-[600px] w-full rounded-3xl shadow-lg shadow-black-200 
         bg-white/60 backdrop-blur-md p-5 flex flex-wrap max-[500px]:max-w-[90%]" href="">
    <div class="flex gap-2 ">
      <img src="https://inwfile.com/s-de/pbx3es.jpg" alt="Card Image"
           class="w-[20vh] mb-2 aspect-[4/3] object-cover rounded-xl">
      <div class="ml-5 space-y-4 justify-center  flex flex-col max-[1085px]:ml-[2vh]">
        <div class="flex items-center gap-2 font-[inter] text-[#616162] text-[2vh]">
          <img src="/img/shopping-cart.png" alt="" class="w-[2vh]">
          <p>Tensonez</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh] ">
          <img src="/img/pending.png" alt="" class="w-[2vh]">
          <p>120 นาที</p>
        </div>
        <div class="flex items-center gap-2 font-[kanit] text-[#616162] text-[2vh]">
          <img src="/img/usd-circle.png" alt="" class="w-[2vh]">
          <p>760 บาท</p>
        </div>
      </div>
    </div>
    <div
      class="bg-[#DBB3C1] text-white font-[kanit] text-[2vh] p-2 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 h-fit self-end ml-auto">
      <button>จองคิว</button>
    </div>
  </a> -->


</div>



</body>
<script>
    // nav manu
    const nav = document.querySelector('.nav');
    function menuToggle(e) {
        e.name = e.name === 'menu' ? 'close' : 'menu';
        nav.classList.toggle('top-[110%]');
        nav.classList.toggle('top-[-1000%]');
    }

    // Filter Services
    function filterServices() {
        const searchInput = document.getElementById('searchInput').value.toLowerCase();
        const priceFilter = document.getElementById('priceFilter').value;
        const serviceCards = document.querySelectorAll('.service-card');
        let visibleCount = 0;

        serviceCards.forEach(card => {
            const name = card.getAttribute('data-name');
            const price = parseInt(card.getAttribute('data-price'));
            
            let matchesSearch = name.includes(searchInput);
            let matchesPrice = true;

            if (priceFilter) {
                const [min, max] = priceFilter.split('-').map(Number);
                matchesPrice = price >= min && (max ? price <= max : true);
            }

            if (matchesSearch && matchesPrice) {
                card.style.display = '';
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });

        // Show/hide no results message
        const noResults = document.getElementById('noResults');
        if (visibleCount === 0) {
            noResults.classList.remove('hidden');
        } else {
            noResults.classList.add('hidden');
        }
    }

    // Reset Filters
    function resetFilters() {
        document.getElementById('searchInput').value = '';
        document.getElementById('priceFilter').value = '';
        const serviceCards = document.querySelectorAll('.service-card');
        serviceCards.forEach(card => {
            card.style.display = '';
        });
        document.getElementById('noResults').classList.add('hidden');
    }

    // Real-time search
    document.getElementById('searchInput').addEventListener('input', filterServices);
    document.getElementById('priceFilter').addEventListener('change', filterServices);
</script>

</html>